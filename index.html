<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        .cls-1, .cls-3 {
          isolation: isolate;
        }
  
        .cls-2 {
          /* fill: none; */
          fill-rule: evenodd;
        }
  
        .cls-3 {
          opacity: 0.54;}

          .color-selector {
              width: 100px;
              height: 100px;
              display: inline-block;
          }
        #shadow {
            pointer-events:none;

          }
        
      </style>
</head>
<body>
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 842 666">
      
        <g id="crown" class="cls-1">
          <path class="cls-2" d="M552,7V6c7.57,4.33,19.92,7.19,21,18,1.14,1.69,1.07,4.9,1,8,13-.24,22.91,3.37,33,6s17.82,1.66,27,5a486.82,486.82,0,0,1,55,24c27,14.09,50.61,24.43,72,44,27.49,25.16,46.28,60.13,60,99,4.9,13.86,5.41,30.42,9,44,1.35,5.11,1.42,10.52,2,16,2.94,27.73,3.92,55.63,4,84,0,18.4,0,37,0,55-.36,8.37-.7,16.77-1,25-.5,13.66-1.06,25.61-3,38-1.06,6.75-2.38,13.37-4,20-9.56,9.47-22.64,4.38-38,8a117.06,117.06,0,0,1-14,2c-22.2,2.39-41.33,1.51-58-2-1-.2-24-11.24-38-8-8.33,1.93-23.19,6.76-34,4-27-6.88-59.15-12.2-84-21l-14-2c-5.75-2-14-5.36-20-7l-10-1c-11.33-3.66-22.5-6.94-34-10-6.69-1.78-13.26-3.42-20-5-5.91-1.47-12.93-2.1-20-4-20.73-5.57-46.1-8.23-68-14l-24-3c-7.45-1.25-14.69-2.24-22-3-4.26-.44-14.26-1.31-20-2-4.85-.59-10.14-1.3-14-2a184.66,184.66,0,0,1-24-6c-18.45-.25-36.64-1.24-55-3-11.12-1.07-21.95-2.38-33-4-2.6,3.27-7.1,3.16-9,1-1.65-1.88-1.55-5.55,1-8,.54-17.72,1.87-35.31,4-53,1.24-10.26,3.75-25.64,6-39,3.09-18.34,6.78-39.42,10-52,5-19.35,10.64-37,17-52,25.43-60.08,64.56-107.79,115-133a209.68,209.68,0,0,1,58-19c6.6-1.94,13.16-3.61,19.88-5A275.88,275.88,0,0,1,438,44c21.9-5.43,48.09-7.89,74-8-.5-5-3.85-11.55-1-16,2.91-8.42,13-6.93,16-14Z"/>
        </g>
        <g id="visor" class="cls-3">
          <path class="cls-2" d="M186,410c8.23-.13,16.45.62,22,2,12.51,3.1,29.74-.54,40,2,13.55,3.36,25.05-1.5,38,2,3.23.87,18.75,6.69,24,8,3.31.82,18.52,2.27,20,2,3-.55,8.71-3.72,14-2,2.41.78,5.62,4.11,8,5l24,3c21.85,5.88,47.28,8.41,68,14,7.06,1.91,14.09,2.53,20,4h14c35.79,14.69,80.42,25.34,120,36,13.19,3.55,24.41,2.45,38,6,3,.79,7,3.23,10,4,10.74,2.73,25.76-2,34-4,8-2,17.32,1.68,24,3a21.58,21.58,0,0,1,1,7c-6.39,4.28-10.63,11.62-16,17-6.26,6.26-14.12,11.41-20,18-4.52,5.07-7,11.44-12,16-9.88,9-21.8,15.25-32,24-20.38,17.49-41.44,38.25-65,52-14.11,8.23-30.7,13.41-46,20-6.58,2.83-12.29,1.08-20,3-29.71,7.4-76,1-102-8-12.28-4.25-23.7-4.51-36-9-17-6.23-36.88-14.35-53-22-8.18-3.88-17.08-2.46-25-6a714.29,714.29,0,0,0-112-39H148c-13-3.18-39-5.86-52-2-2.37.71-5.35,3.28-8,4-11.93,3.25-25.53.93-36,5-3.79,1.47-18,7.35-21,10-7.66,6.84-3,8.94-19,9-1-.8-.27-.35-2-1-1.71-2.73-2.54-2.5-3-7-.83-1.66-.24-2.59,0-6,7.1-4.79,12-13,18-19s13.47-10.19,20-16c1-.86,1.06-3.07,2-4,4.36-4.32,9.66-7.66,14-12,2.29-2.29,3.62-5.82,6-8,2.88-2.63,7.06-3.39,10-6,2.39-2.13,3.72-5.72,6-8,9.67-9.67,20.33-18.33,30-28,5-4.95,8.84-11.28,14-16,2.88-2.63,7.06-3.39,10-6,3.09-2.76,5.06-7.06,8-10s7.24-4.91,10-8c7.63-8.57,13.28-18.61,21-27C180.17,412.07,183.69,411.75,186,410Z"/>
        </g>
        <g id="shadow">
          <image id="image" width="842" height="666" xlink:href="cap-exercise21.png"/>
        </g>
      </svg>
      
      <div class="color-selector" style="background-color: red"></div>
      
</body>

<script>
    const crown = document.querySelector("#crown");
    const visor = document.querySelector("#visor");

    let currentColor = "yellow";


    function setColor(element, colorString) {
        element.style.fill = colorString;
    }

    function init() {
        setColor(crown, "hsl(350, 100%, 80%)")

        setColor(visor, "hsl(350, 100%, 17%)")

        crown.addEventListener("click", (event) => {
            setColor(event.target, currentColor);
        console.log(event.target);

        })

        visor.addEventListener("click", (event) => {
            setColor(event.target, currentColor);

        console.log(event.target);

        })
    document.querySelectorAll(".color-selector").forEach(element => { 
    element.addEventListener("click", event => {
        currentColor = event.target.style.backgroundColor;
    })
})
    }

    init();

</script>
</html>